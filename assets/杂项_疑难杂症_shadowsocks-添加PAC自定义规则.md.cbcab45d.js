import{_ as e,v as s,b as a,R as o}from"./chunks/framework.f9e03a9a.js";const b=JSON.parse('{"title":"shadowsocks-添加PAC自定义规则","description":"","frontmatter":{},"headers":[],"relativePath":"杂项/疑难杂症/shadowsocks-添加PAC自定义规则.md","filePath":"杂项/疑难杂症/shadowsocks-添加PAC自定义规则.md","lastUpdated":1695268816000}'),c={name:"杂项/疑难杂症/shadowsocks-添加PAC自定义规则.md"},l=o(`<h1 id="shadowsocks-添加pac自定义规则" tabindex="-1">shadowsocks-添加PAC自定义规则 <a class="header-anchor" href="#shadowsocks-添加pac自定义规则" aria-label="Permalink to &quot;shadowsocks-添加PAC自定义规则&quot;">​</a></h1><p>shadowsocks 默认使用的 <a href="https://github.com/gfwlist/gfwlist" target="_blank" rel="noreferrer">GFWList</a>规则。</p><p>shadowsocks 默认使用的是 adblock plus 的引擎，要想自己添加规则最好熟悉一下其规则，下面是shadowsocks 的 pac 规则。</p><p>中文版： <a href="https://adblockplus.org/zh_CN/filters" target="_blank" rel="noreferrer">Adblock Plus 过滤规则</a></p><p>英文版： <a href="https://adblockplus.org/en/filter-cheatsheet" target="_blank" rel="noreferrer">Adblock Plus filters explained</a></p><h1 id="规则大概描述" tabindex="-1">规则大概描述 <a class="header-anchor" href="#规则大概描述" aria-label="Permalink to &quot;规则大概描述&quot;">​</a></h1><ol><li>通配符支持，如 <code>*.example.com/*</code> 实际书写时可省略 * 如 <code>.example.com/</code> 意即 <code>*.example.com/*</code></li><li>正则表达式支持，以\\开始和结束， 如 <code>\\[\\w]+:\\/\\/example.com\\</code></li><li>例外规则 @@，如 <code>@@*.example.com/*</code> 满足@@后规则的地址不使用代理</li><li>匹配地址开始和结尾 |，如 <code>|http://example.com、example.com|</code> 分别表示以 <code>http://example.com</code> 开始和以 <code>example.com</code> 结束的地址</li><li>|| 标记，如 <code>||example.com</code> 则 <code>http://example.com</code> 、<code>https://example.com</code> 、<code>ftp://example.com</code> 等地址均满足条件，只用于匹配地址开头</li><li>注释 ! 如 ! Comment</li><li>分隔符^，表示除了字母、数字或者 _ - . % 之外的任何字符。如 <code>http://example.com^</code> ，<code>http://example.com/</code> 和<code>http://example.com:8000/</code> 均满足条件，而 <code>http://example.com.ar/</code> 不满足条件</li></ol><h1 id="如何使用自定义规则" tabindex="-1">如何使用自定义规则 <a class="header-anchor" href="#如何使用自定义规则" aria-label="Permalink to &quot;如何使用自定义规则&quot;">​</a></h1><p>如果 GFWList 的自带规则无法满足你的需求，那么你需要PAC自定义规则。你可以点击 shadowsocks 选择『编辑GFWList的用户规则』项，使用编辑器打开<code>user-rule.txt</code>文件，在文件中加入你的规则，格式如下：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">! Put user rules line by line in this file.</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">! See https://adblockplus.org/en/filter-cheatsheet</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">||amazonaws.com</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">atom.io</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如上面的注释说明，<code>user-rule.txt</code> 一行只能有一条代理规则，上面的示例中 <code>||amazonaws.com</code> 和 <code>artstation.com</code> 这种直接写的语法都是可以的，生效后被配置的域名及其子域名都会经过代理访问。</p><p><s><code>user-rule.txt</code>中的规则并不能直接被shadowsocks使用，如要添加到<code>user-rule.txt</code>中的规则生效，你还要执行下面重要的一步：更新本地的<code>PAC</code>，更新后<code>user-rule.txt</code>中的自定义规则会添加到<code>PAC.txt</code>文件内。每次编辑完<code>user-rule.txt</code>后，均需执行<code>从GFWList更新本地PAC</code>，使本次规则也生效。</s> 最新版本的Shadowsocks客户端，在保存<code>user-rule.txt</code>的时候将会自动完成更新到<code>pac.txt</code>。</p><h1 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h1><p>科学爬梯相关可见本站文章存档：<a href="https://sobaigu.com/tags/shadowsocks/" target="_blank" rel="noreferrer">shadowsocks</a></p>`,14),t=[l];function n(r,d,p,i,h,m){return s(),a("div",null,t)}const x=e(c,[["render",n]]);export{b as __pageData,x as default};
